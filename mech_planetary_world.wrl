#VRML V2.0 utf8

WorldInfo {
	info  ["Copyright 2001 The MathWorks, Inc."]
	title "VR Planetary Gear Model"
}

NavigationInfo {
	type	"EXAMINE"
	headlight TRUE
}

Viewpoint {
	position 450 10 300
	orientation	-0.1441 0.8208 -0.1836 45
	description	"Main View"
}

DirectionalLight {
	direction 1 0 1
	color 1 1 1
	intensity 0.25
}

DirectionalLight {
	direction 0 -1 -1
	color 1 1 1
	intensity 0.5
}

DirectionalLight {
	direction 0 -1 0
	color 1 1 1
	intensity 0.15
}

DirectionalLight {
	direction -1 -2 -1
	color 1 1 1
	intensity 0.15
}

DirectionalLight {
	direction 0 -2 1
	color 1 1 1
	intensity 0.15
}

DEF ring Transform {
	children Inline {
		url	"ring10.wrl"
	}
}

DEF carrier Transform {
	children Inline {
		url	"carrier6.wrl"
	}
}

DEF drum Transform {
	children Inline {
		url	"drum10.wrl"
	}
}

DEF clutch Transform {
	children [
		Transform {
			rotation	1 0 0  1.57
			children [
				DEF clutchsensor PlaneSensor {
					enabled TRUE
					autoOffset TRUE
					maxPosition		0 80
					minPosition		0 70
					offset 0 0 0
				}

		DEF clutchpiston Transform {
	translation	0 70 0
	rotation	1 0 0  1.57
#	scale 1.1 1.1 1
	children Shape {
		appearance	Appearance {
			material Material {
				ambientIntensity	0.1
				diffuseColor	0.980392 0.076471 0.070588
				emissiveColor	0 0 0
				shininess	0.2
				specularColor	1 1 1
				transparency	0
			}

		}

		geometry	Extrusion {
			beginCap	TRUE
			endCap	TRUE
			ccw	TRUE
			convex	FALSE
			creaseAngle	0.2
			solid	FALSE
			crossSection	[ 82.5 0
			   97.5 0
			   97.5 -5
			   92.5 -5
			   92.5 -10
			   87.5 -10
			   87.5  -5
			   82.5  -5
			   82.5  0
							 ]

			spine	[
-7.80236 41.79317 0
-10.16306 41.35238 0
-12.48718 40.70863 0
-14.74072 39.87099 0
-17.15357 38.97439 0
-19.48394 37.85584 0
-21.69694 36.53546 0
-23.91307 35.21310 0
-26.01071 33.68665 0
-27.95528 31.98472 0
-29.79609 30.37380 0
-31.50198 28.60044 0
-33.04403 26.69669 0
-34.59515 24.78104 0
-35.98243 22.73017 0
-37.18233 20.57272 0
-38.31619 18.53348 0
-39.13058 16.76154 0
-39.93704 14.55959 0
-40.70409 12.46394 0
-41.24665 10.54658 0
-41.68743 8.34378 0
-42.23707 5.60013 0
-42.51260 2.79978 0
-42.51260 0.00000 0
-42.51260 -2.44800 0
-42.30227 -4.89855 0
-41.88104 -7.31254 0
-41.46435 -9.69931 0
-40.83959 -12.05320 0
-40.01839 -14.33452 0
-39.13824 -16.77940 0
-38.03017 -19.14066 0
-36.71858 -21.38428 0
-35.56035 -23.36287 0
-34.23940 -25.25074 0
-32.77899 -27.01871 0
-31.33247 -28.76995 0
-29.19061 -30.94157 0
-27.44561 -32.42154 0
-25.25301 -34.28192 0
-22.86964 -35.92233 0
-20.34907 -37.30479 0
-17.96967 -38.60929 0
-15.46441 -39.68646 0
-12.88063 -40.51162 0
-10.24214 -41.35465 0
-7.46816 -41.97175 0
-4.71572 -42.26797 0
-1.46211 -42.61805 0
1.85187 -42.59820 0
5.10038 -42.20702 0
8.24145 -41.82860 0
11.34000 -41.09499 0
14.31893 -40.02435 0
17.16491 -39.00104 0
19.90290 -37.66876 0
22.46712 -36.06378 0
24.77282 -34.62094 0
26.94359 -32.95474 0
28.93465 -31.10031 0
31.11506 -29.07014 0
33.08712 -26.80894 0
34.79953 -24.37115 0
36.28488 -22.25764 0
37.58003 -20.00750 0
38.65833 -17.66041 0
39.74117 -15.30198 0
40.60828 -12.84435 0
41.23956 -10.32917 0
41.82123 -8.01128 0
42.20674 -5.64321 0
42.38816 -3.26268 0
42.60331 -0.43285 0
42.58630 1.39124 0
42.30000 4.24517 0
42.03071 6.93609 0
41.50318 9.60321 0
40.72620 12.19124 0
40.06346 14.39858 0
39.21619 16.55093 0
38.20394 18.61795 0
37.22967 20.60589 0
36.09950 22.51757 0
34.83071 24.32721 0
33.57128 26.12409 0
32.17294 27.82431 0
30.65584 29.40463 0
28.99020 31.14057 0
27.17943 32.73506 0
25.24961 34.16627 0
23.22057 35.67090 0
21.05915 36.99581 0
18.79852 38.11606 0
16.43953 39.28592 0
13.97254 40.23524 0
11.44035 40.94504 0
8.94161 41.64520 0
6.38220 42.11348 0
3.80041 42.34394 0
1.27162 42.56929 0
-1.27162 42.56929 0
-3.80041 42.34394 0
-5.15310 42.22318 0
-6.48822 42.03836 0
-7.80236 41.79317 0
 ]
		}

	}
		}
			]
		}
	]
	ROUTE clutchsensor.translation_changed TO clutchpiston.translation
}
DEF groundoutput Transform {
	translation	0 0 150
	rotation	0 1 0  1.5708
	children Shape {
		appearance	Appearance {
			material Material {
				ambientIntensity	0.1
				diffuseColor	0.85 0.85 0.85
				emissiveColor	0 0 0
				shininess	0.2
				specularColor	1 1 1
				transparency	0
			}

		}

		geometry	Extrusion {
					    beginCap	TRUE
					    endCap	TRUE
					    ccw	TRUE
					    convex	FALSE
					    creaseAngle	1.5
					    solid	FALSE
					    crossSection	[ 25.77742 -55.68576 
27.41868 -55.36318 29.02989 -54.96576 30.61417 -54.49975 
31.78375 -54.15506 32.93802 -53.77380 34.07443 -53.35654 
35.47304 -52.84431 36.84926 -52.27824 38.19402 -51.66028 
39.52261 -51.04970 40.82513 -50.38980 42.09704 -49.68227 
43.60507 -48.84435 45.07087 -47.93783 46.49017 -46.97036 
47.78674 -46.08567 49.04986 -45.14825 50.26620 -44.16151 
51.46328 -43.19065 52.61981 -42.17443 53.73468 -41.11342 
54.98589 -39.92117 56.18296 -38.67165 57.32079 -37.37254 
58.39994 -36.14343 59.42211 -34.86529 60.39156 -33.54520 
61.46192 -32.08904 62.46397 -30.57987 63.39317 -29.02280 
64.23364 -27.61625 65.01373 -26.16945 65.73146 -24.68636 
66.50957 -23.07883 67.21625 -21.43020 67.84299 -19.74387 
68.45074 -18.10998 68.98450 -16.44208 69.44117 -14.74214 
69.81704 -13.34324 70.13877 -11.92422 70.40636 -10.48564 
70.57077 -9.61115 70.71307 -8.72731 70.83666 -7.83553 
70.96025 -6.94602 71.06173 -6.04942 71.14167 -5.14800 
71.29162 -3.47584 71.36702 -1.78611 71.36702 -0.07710 
71.36702 1.63219 71.29162 3.32192 71.14167 4.99380 
70.98094 6.79663 70.73490 8.57792 70.40636 10.33200 
70.10135 11.97581 69.72208 13.59439 69.27506 15.18605 
68.80365 16.86416 68.25827 18.51109 67.64117 20.12230 
67.00394 21.78737 66.28847 23.41587 65.50129 25.00044 
64.77732 26.46369 63.98929 27.89008 63.14513 29.27962 
62.24031 30.76724 61.26661 32.21235 60.23225 33.60813 
59.19080 35.01213 58.08926 36.36510 56.92649 37.66564 
55.95335 38.75584 54.93487 39.80835 53.88038 40.82173 
52.76409 41.89238 51.60444 42.91739 50.40595 43.89562 
49.33672 44.76416 48.23660 45.59811 47.10586 46.38983 
45.95613 47.19770 44.77238 47.96135 43.56340 48.68249 
42.23679 49.47335 40.87871 50.20951 39.48803 50.89039 
38.08063 51.58035 36.64120 52.21446 35.17115 52.78706 
33.77877 53.33216 32.36003 53.82227 30.91465 54.25512 
29.26970 54.74948 27.60293 55.16844 25.88173 55.46154 
25.87521 77.13921 
27.33420 78.49276 
71.58161 78.72576 
73.10353 78.73370 74.55713 78.50920 75.87950 78.12000 
77.20186 77.73109 78.39609 77.16671 79.39928 76.47137 
80.40246 75.77603 81.21572 74.94803 81.77754 74.03131 
82.33909 73.11458 82.65118 72.10658 82.65118 71.05209 
82.65118 -71.00986 
82.65118 -72.06435 82.33909 -73.07320 81.77754 -73.99106 
81.21572 -74.90891 80.40189 -75.73890 79.39956 -76.43452 
78.39694 -77.13014 77.20271 -77.69480 75.87950 -78.08372 
74.55628 -78.47263 73.10183 -78.68750 71.58161 -78.68353 
27.30444 -78.56872 
25.84545 -77.19534 
25.77742 -55.68576 
]
					    spine	[ -20 0 0,
							      20 0 0]
		}

	}
}

DEF brake Transform {
	children [
		Transform {
#			rotation	1 0 0  1.57
			children [
				DEF brakesensor PlaneSensor {
					enabled TRUE
					autoOffset TRUE
					maxPosition		0 0
					minPosition		0 -15
					offset 0 0 155
				}

		DEF brakepiston Transform {
	translation	0 0 155
	rotation	0 1 0  1.5708
#	scale 1.1 1.1 1
	children Shape {
		appearance	Appearance {
			material Material {
				ambientIntensity	0.1
				diffuseColor	0.980392 0.076471 0.070588
				emissiveColor	0 0 0
				shininess	0.2
				specularColor	1 1 1
				transparency	0
			}

		}

		geometry	Extrusion {
					    beginCap	TRUE
					    endCap	TRUE
					    ccw	TRUE
					    convex	FALSE
					    creaseAngle	1.5
					    solid	FALSE
					    crossSection	[ 0.00000 -56.69121 
0.00000 -48.91776 
1.64268 -48.91521 3.26665 -48.83329 4.86935 -48.67370 
6.47093 -48.51411 8.05096 -48.27685 9.60463 -47.96532 
11.01657 -47.68243 12.40781 -47.33802 13.77411 -46.93606 
14.78268 -46.63899 15.77849 -46.30989 16.75956 -45.95017 
17.96655 -45.50825 19.15257 -45.01899 20.31335 -44.48636 
21.46025 -43.95969 22.58391 -43.39020 23.68091 -42.77962 
24.98202 -42.05650 26.24655 -41.27471 27.47140 -40.43962 
28.59137 -39.67654 29.67902 -38.86724 30.73011 -38.01600 
31.76277 -37.17978 32.76142 -36.30217 33.72265 -35.38630 
34.80208 -34.35789 35.83502 -33.28072 36.81723 -32.15849 
37.74643 -31.09691 38.63083 -29.99565 39.46677 -28.85669 
40.38945 -27.60038 41.25373 -26.29814 42.05537 -24.95480 
42.77991 -23.74044 43.45398 -22.49206 44.07364 -21.21364 
44.74517 -19.82636 45.35376 -18.40309 45.89490 -16.94778 
46.41874 -15.53896 46.87937 -14.09868 47.27282 -12.63260 
47.59710 -11.42617 47.87575 -10.20161 48.10762 -8.96088 
48.24822 -8.20460 48.37209 -7.44265 48.47839 -6.67446 
48.58413 -5.90627 48.67200 -5.13326 48.74145 -4.35458 
48.87014 -2.91345 48.93562 -1.45361 48.93562 0.02013 
48.93562 1.49386 48.87014 2.95285 48.74145 4.39483 
48.60227 5.95162 48.39024 7.48828 48.10762 9.00113 
47.84287 10.41902 47.51603 11.81594 47.13137 13.18876 
46.72517 14.63669 46.25376 16.05798 45.72113 17.44866 
45.17065 18.88498 44.55354 20.29039 43.87465 21.65868 
43.24989 22.92009 42.57043 24.15203 41.84192 25.34939 
41.06069 26.63376 40.22107 27.88016 39.32844 29.08431 
38.43043 30.29443 37.47855 31.46287 36.47565 32.58454 
35.63518 33.52507 34.75786 34.43414 33.84737 35.30750 
32.88501 36.23131 31.88438 37.11600 30.84973 37.95959 
29.92819 38.71077 28.97802 39.42935 28.00290 40.11307 
27.01020 40.80898 25.98945 41.46945 24.94545 42.09137 
23.80309 42.77197 22.63039 43.40806 21.43077 43.99569 
20.21641 44.59068 18.97342 45.13776 17.70576 45.63269 
16.50387 46.10126 15.27874 46.52532 14.03348 46.89921 
12.61417 47.32526 11.17474 47.68668 9.72227 47.98035 
8.12466 48.30435 6.50976 48.54784 4.88665 48.71055 
3.26353 48.87354 1.63219 48.95546 0.00000 48.93846 
0.00000 56.76038 
1.89184 56.72041 3.78255 56.62573 5.66532 56.43780 
7.54441 56.24816 9.41669 55.96583 11.26743 55.58995 
12.95235 55.24980 14.61912 54.83083 16.26406 54.33676 
17.71002 53.90362 19.12791 53.41351 20.52057 52.86841 
21.99033 52.29524 23.43005 51.66198 24.83773 50.97175 
26.22813 50.29115 27.58620 49.55443 28.91254 48.76413 
30.12180 48.04299 31.30583 47.27877 32.45584 46.47118 
33.58602 45.67918 34.68614 44.84523 35.75509 43.97669 
36.95386 42.99874 38.11380 41.97345 39.23008 40.90280 
40.28457 39.88942 41.30277 38.83720 42.27591 37.74728 
43.43868 36.44674 44.54022 35.09348 45.58167 33.68948 
46.61603 32.29370 47.59002 30.84888 48.49398 29.36098 
49.33871 27.97228 50.12702 26.54504 50.85071 25.08208 
51.63761 23.49723 52.35364 21.86872 52.99058 20.20394 
53.60797 18.59272 54.15279 16.94494 54.62476 15.26740 
55.07206 13.67546 55.45077 12.05717 55.75578 10.41335 
56.08431 8.65899 56.33036 6.87798 56.49109 5.07543 
56.64132 3.40356 56.71616 1.71298 56.71616 0.00369 
56.71616 -1.70476 56.64132 -3.39477 56.49109 -5.06665 
56.41115 -5.96806 56.30967 -6.86494 56.18608 -7.75446 
56.06249 -8.64652 55.91991 -9.53008 55.75578 -10.40457 
55.48791 -11.84287 55.16646 -13.26161 54.79058 -14.66050 
54.33392 -16.36072 53.80044 -18.02863 53.19298 -19.66252 
52.56567 -21.34913 51.85928 -22.99720 51.08117 -24.60501 
50.36343 -26.08809 49.58306 -27.53490 48.74287 -28.94145 
47.81395 -30.49824 46.81106 -32.00825 45.74098 -33.46356 
44.77181 -34.78394 43.74935 -36.06180 42.66964 -37.29146 
41.53238 -38.59030 40.33502 -39.83953 39.08381 -41.03178 
37.96980 -42.09279 36.81298 -43.10901 35.61534 -44.07987 
34.39956 -45.06690 33.13644 -46.00431 31.83931 -46.88844 
30.42028 -47.85647 28.95420 -48.76271 27.44674 -49.60120 
26.17455 -50.30787 24.87203 -50.96863 23.54343 -51.57893 
22.19896 -52.19688 20.82246 -52.76296 19.42413 -53.27490 
18.28772 -53.69272 17.13288 -54.07342 15.96331 -54.41839 
14.37931 -54.88413 12.76781 -55.28239 11.13109 -55.61178 
9.33024 -55.97206 7.49934 -56.24759 5.64406 -56.43184 
3.78652 -56.61694 1.90431 -56.71276 0.00000 -56.69121 
]
					    spine	[ -25 0 0,
							      25 0 0]
		}

	}
		}
			]
		}
	]
	ROUTE brakesensor.translation_changed TO brakepiston.translation
}
#DEF	groundinput Transform {
#	translation	0 0 200
#	children USE groundinput
#}

DEF planetteeth1 Transform {
	children [
	DEF planet Transform {
	translation	0 106 0
	rotation 0 0 1 0.1
	children Inline {
		url	"planet1.wrl"
	}
	}
	]
}
DEF	planetteeth2 Transform {
	rotation 0 0 1 2.0944
	children [
		USE	planetteeth1
	]
}
DEF	planetteeth3 Transform {
	rotation 0 0 1 4.1888
	children [
		USE	planetteeth1
	]
}

